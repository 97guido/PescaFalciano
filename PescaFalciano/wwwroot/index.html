<!DOCTYPE html>
<html>
<script type="text/javascript" language="javascript" src="PremiPesca2024.json"></script>
<head>
    <link rel="stylesheet" href="./css/Index.css">
</head>
<body>
    <div class="text-center">
        <h1 class="display-4">Pesca Falciano 2024</h1>
        <input id="input_num" type="number" oninput="setDesc()"></input>
        <input type="button" onclick="delNum()" value="Cancella" style="margin-top:1%; background: #2c3c2dff; color: crimson"/>
        <h2 id="input_description_show" style="font-size: 60px;text-align:center;width:100%;margin-left:0%"></h2>
    </div>

    <script>


        var premi;

        //document.addEventListener("DOMContentLoaded", function () {
        //    fetch('PremiPesca2024.json')
        //        .then(response => response.json())
        //        .then(data => {
        //            premi = data;
        //        })
        //        .catch(error => console.error("Error fetching JSON data:", error));
        //});

        function setDesc() {
            var num = document.getElementById('input_num').value;

            var foundPremio = premi.find(x => x.FromNumber <= num && x.ToNumber >= num);

            if (foundPremio != null) {
                document.getElementById('input_description_show').innerHTML = foundPremio.Description;
            }
            else document.getElementById('input_description_show').innerHTML = "";
        }

        function delNum() {
            document.getElementById('input_num').value = '';
            document.getElementById('input_description_show').innerHTML = "";
        }

    </script>
</html>
</body>
